CMAKE_MINIMUM_REQUIRED (VERSION 3.8)

PROJECT ("libevp" C CXX)

IF(CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
	SET(CMAKE_CXX_FLAGS "-std=c++17 -m32 -ldl -lpthread -lstdc++fs -Wall -fpic -O2")
ELSEIF(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /std:c++17 /D \"WIN32\" /EHsc /GL-")
	
	IF (CMAKE_BUILD_TYPE STREQUAL "Debug")
		SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /Od /Zi")
	ELSE()
		SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /O2")
	ENDIF()
ENDIF()

ADD_SUBDIRECTORY("src")

SET_TARGET_PROPERTIES(${PROJECT_NAME} PROPERTIES LINKER_LANGUAGE CXX)