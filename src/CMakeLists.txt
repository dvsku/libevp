CMAKE_MINIMUM_REQUIRED (VERSION 3.8)

INCLUDE_DIRECTORIES("${CMAKE_SOURCE_DIR}/src/lib")

IF(CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
	ADD_LIBRARY(evp STATIC 
		"lib/md5/md5.cpp"
		"libevp.cpp"
	)
ELSEIF(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
	ADD_LIBRARY(libevp STATIC
		"lib/md5/md5.cpp"
		"libevp.cpp"
	)

	SET_TARGET_PROPERTIES(libevp PROPERTIES LINK_FLAGS "/LTCG-")
	TARGET_LINK_LIBRARIES(libevp ${CMAKE_SOURCE_DIR}/lib/libdvsku_crypt/libdvsku_crypt_mt.lib)
ENDIF()

